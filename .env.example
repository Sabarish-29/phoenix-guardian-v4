# Phoenix Guardian Environment Configuration
# Copy this file to .env and fill in your values

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# CRITICAL: Never commit .env to git. This template is safe.
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# ─── DATABASE ───────────────────────────────────────────────────────────────
# PostgreSQL (local development)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=phoenix_guardian
DB_USER=postgres
DB_PASSWORD=your_postgres_password_here

# Full connection URL (alternative to individual settings above)
# DATABASE_URL=postgresql://postgres:your_password@localhost:5432/phoenix_guardian

# ─── SECURITY ───────────────────────────────────────────────────────────────
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
JWT_SECRET_KEY=your-secret-key-here-generate-with-python-secrets

# ─── AI PROVIDER ────────────────────────────────────────────────────────
# Groq Cloud API (primary - free tier, ~8x faster than Claude)
GROQ_API_KEY=gsk_xxxxx
# GROQ_MODEL=llama-3.3-70b-versatile

# Ollama (local fallback - runs offline)
# OLLAMA_BASE_URL=http://localhost:11434
# OLLAMA_MODEL=llama3.2:1b

# Force a specific provider: "groq" or "ollama" (default: auto-failover)
# AI_PROVIDER=

# Anthropic Claude API (legacy - no longer required)
# ANTHROPIC_API_KEY=sk-ant-xxxxx

# ─── CACHE (Optional) ──────────────────────────────────────────────────────
# Redis (local development)
REDIS_URL=redis://localhost:6379/0

# ─── AWS (Production Only) ──────────────────────────────────────────────────
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1

# ─── EHR INTEGRATION (Optional for local dev) ───────────────────────────────
# Epic FHIR
EPIC_CLIENT_ID=
EPIC_CLIENT_SECRET=
EPIC_BASE_URL=https://fhir.epic.com/interconnect-fhir-oauth/api/FHIR/R4

# Cerner FHIR
CERNER_CLIENT_ID=
CERNER_CLIENT_SECRET=
CERNER_BASE_URL=https://fhir-myrecord.cerner.com/r4

# ─── MONITORING (Production Only) ───────────────────────────────────────────
DATADOG_API_KEY=
PAGERDUTY_API_KEY=

# ─── ENVIRONMENT ────────────────────────────────────────────────────────────
ENVIRONMENT=development
LOG_LEVEL=INFO

# ============================================================
# V5 UPGRADE — ZebraHunter + SilentVoice + TreatmentShadow Agents
# ============================================================

# --- ZebraHunterAgent ---
# Register free at: https://api.orphadata.com
# Required for rare disease matching
ORPHADATA_API_KEY=your_orphadata_api_key_here
ORPHADATA_BASE_URL=https://api.orphadata.com

# --- TreatmentShadowAgent ---
# No API key needed — OpenFDA is completely free and public
OPENFDA_BASE_URL=https://api.fda.gov
OPENFDA_DRUG_EVENT_ENDPOINT=/drug/event.json
# How many months of decline before shadow fires
SHADOW_TREND_THRESHOLD_PCT=-20
# Minimum number of lab results needed before trend analysis
SHADOW_MIN_LAB_RESULTS=2

# --- SilentVoiceAgent ---
# Minutes of vitals to use for building personal baseline
SILENT_VOICE_BASELINE_WINDOW_MINUTES=120
# Z-score above which a vital is flagged as abnormal
SILENT_VOICE_ZSCORE_THRESHOLD=2.5
# How often (seconds) the monitor loop checks vitals
SILENT_VOICE_MONITOR_INTERVAL_SECONDS=60

# --- Ghost Protocol (ZebraHunterAgent) ---
# Minimum patient count to trigger ghost protocol alert
GHOST_PROTOCOL_MIN_CLUSTER=2
# Days to keep ghost cases in Redis before expiry
GHOST_PROTOCOL_TTL_DAYS=30

# --- Demo Mode ---
# Set to 'true' during hackathon demo to use cached responses
# Never set to 'true' in production
DEMO_MODE=false
DEMO_CACHE_TTL_SECONDS=3600
